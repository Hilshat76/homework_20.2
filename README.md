**20.1 Работа с ORM в Django.**

**_Условия домашки._**

Критерии выполнения заданий
Результат выполнения проекта залейте на GitHub и сдайте в виде ссылки на репозиторий.
Результаты работы по первому пункту в задании 6 прикрепите в виде скриншотов терминала.

**_Задание 1_**

Подключите СУБД PostgreSQL для работы в проекте, для этого:
* Создайте базу данных в ручном режиме. 
* Внесите изменения в настройки подключения.

**_Задание 2_**

В приложении каталога создайте модели:

* Product,
* Category.

Опишите для них начальные настройки.

К начальным настройкам модели относятся метод __str__ и class Meta с описанием свойств модели.

**_Задание 3_**

Для каждой модели опишите следующие поля:

1. Product
* Наименование
* Описание
* Изображение (превью)
* Категория
* Цена за покупку
* Дата создания (записи в БД)
* Дата последнего изменения (записи в БД)

2. Category
* Наименование
* Описание

Свяжите продукт и категорию, используя связь между таблицами «Один ко многим».
У одной категории может быть много продуктов, но у одного продукта может быть только одна категория.
Воспользуйтесь специальным полем модели — **ForeignKey()**.
Поля **«Дата создания»** и **«Дата последнего изменения»** стали стандартом для моделей. Их общепринятые названия — **created_at** и **updated_at** соответственно.

**_Задание 4_**

Перенесите отображение моделей в базу данных с помощью инструмента миграций, для этого:
создайте миграции для новых моделей;
примените миграции;
внесите изменения в модель продукта, добавьте поле **«Дата производства продукта»** (manufactured_at), примените обновление структуры с помощью миграций;
откатите миграцию до состояния, когда поле **«Дата производства продукта»** (manufactured_at) для модели продукта еще не существовало, и удалите лишнюю миграцию.

**_Задание 5_**

Для моделей категории и продукта настройте отображение в административной панели. Для категорий выведите id и наименование в список отображения, а для продуктов выведите в список id, название, цену и категорию.
При этом интерфейс вывода продуктов настройте так, чтобы можно было результат отображения фильтровать по категории, а также осуществлять поиск по названию и полю описания.

**_Задание 6_**

1. Через инструмент shell заполните список категорий, а также выберите список категорий, применив произвольные рассмотренные фильтры. В качестве решения приложите скриншот.

Установите библиотеку ipython для комфортной работы с инструментом shell. Не забудьте зафиксировать изменения в файле зависимостей проекта.

2. Сформируйте фикстуры для заполнения базы данных.

Фикстуры создайте командой. Для управления кодировкой используйте опцию 
-Xutf8
 для команды. Такой параметр уместно будет использовать на операционной системе Windows.

В общем случае команда для создания фикстур будет выглядеть следующим образом:

python -Xutf8 manage.py dumpdata имя_приложения > имя_папки_с_фикстурами/имя_приложения_data.json

3. Напишите кастомную команду, которая умеет заполнять данные в базу данных, при этом предварительно ее зачищать от старых данных.

**_Дополнительное задание_**

В контроллер отображения главной страницы добавить выборку последних пяти товаров и вывод их в консоль.
Создать модель для хранения контактных данных и попробовать вывести данные, заполненные через админку, на страницу с контактами.

Примечание: дополнительные задания, помеченные звездочкой, желательны, но не обязательны к выполнению.